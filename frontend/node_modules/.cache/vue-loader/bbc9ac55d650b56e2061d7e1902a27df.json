{"remainingRequest":"/media/jerfson/dad/projetos/nodejs/vuejs/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/jerfson/dad/projetos/nodejs/vuejs/frontend/src/components/usuario/ImportarLista.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/jerfson/dad/projetos/nodejs/vuejs/frontend/src/components/usuario/ImportarLista.vue","mtime":1630706372803},{"path":"/media/jerfson/dad/projetos/nodejs/vuejs/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1630499757649},{"path":"/media/jerfson/dad/projetos/nodejs/vuejs/frontend/node_modules/babel-loader/lib/index.js","mtime":1630499756648},{"path":"/media/jerfson/dad/projetos/nodejs/vuejs/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1630499757649},{"path":"/media/jerfson/dad/projetos/nodejs/vuejs/frontend/node_modules/vue-loader/lib/index.js","mtime":1630499756805}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBlbnYgZnJvbSAiLi4vLi4vLi4vZW52IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbXBvcnRhckxpc3RhIiwKICBwcm9wczogWyJidXNjYXJVc3VhcmlvcyJdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvYmpldG9zOiBbXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbXBvcnRhclVzdWFyaW9zKGUpIHsKICAgICAgdGhpcy5vYmpldG9zID0gW107CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgIHZhciAkdGhpcyA9IHRoaXM7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMuZm9ybVZpbmN1bG8pOwogICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcy4kcmVmcy5mb3JtVmluY3Vsbyk7CgogICAgICBheGlvcwogICAgICAgIC5wb3N0KGVudi51cmxTZXJ2aWRvckJhY2sgKyAiL3VzZXIvaW1wb3J0YXIiLCBmb3JtRGF0YSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICR0aGlzLiRhbGVydGlmeS5zdWNjZXNzKCJJbXBvcnRhZG8gY29tIHN1Y2Vzc28iKTsKICAgICAgICAgICAgJHRoaXMub2JqZXRvcyA9IHJlc3BvbnNlLmRhdGEubGlzdGE7CiAgICAgICAgICAgICR0aGlzLiRyZWZzLnJlc2V0bW9kYWwuY2xpY2soKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICR0aGlzLiRhbGVydGlmeS5lcnJvcigiRXJybyBubyBwcm9jZXNzbyIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ImportarLista.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImportarLista.vue","sourceRoot":"src/components/usuario","sourcesContent":["<template>\n  <div class=\"modal modal-open\">\n    <div class=\"modal-card\">\n      <header class=\"modal-card-head\">\n        <p class=\"modal-card-title\">Importar Usuarios CSV</p>\n        <button\n          class=\"delete\"\n          aria-label=\"close\"\n          @click=\"$emit('close')\"\n        ></button>\n      </header>\n      <section class=\"modal-card-body\">\n        <form ref=\"formVinculo\" @submit=\"importarUsuarios\">\n          <div class=\"modal-body\">\n            <div class=\"column\">\n              <label>\n                Arquivo CSV\n                <input type=\"file\" class=\"input\" name=\"arquivo\" accept=\".csv\" />\n              </label>\n            </div>\n            <div class=\"column\">\n              <button type=\"submit\" class=\"button\">Importar</button>\n              <br />\n              <br />\n            </div>\n\n            <input ref=\"resetmodal\" class=\"hidden\" type=\"reset\" />\n            <h4 v-if=\"objetos.length\">Lista de usuarios importados</h4>\n            <table class=\"table is-fullwidth\" v-if=\"objetos.length\">\n              <thead>\n                <td>Nome</td>\n                <td>Email</td>\n                <td>Cargo</td>\n                <td>Departamento</td>\n                <td>Centro de custo</td>\n                <td>Status</td>\n              </thead>\n              <tbody>\n                <tr v-for=\"(item, key) in objetos\" :key=\"key\">\n                  <td>{{ item.nome }}</td>\n                  <td>{{ item.email }}</td>\n                  <td>{{ item.cargo }}</td>\n                  <td>{{ item.departamento }}</td>\n                  <td>{{ item.centroCusto }}</td>\n                  <td class=\"\">\n                    <span class=\"importado\" v-if=\"item.status\">{{\n                      item.msg\n                    }}</span>\n                    <span class=\"n-importado\" v-else>{{\n                      item.msg\n                    }}</span>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n\n            <div class=\"column\">\n              <br />\n              <br />\n            </div>\n          </div>\n        </form>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport env from \"../../../env\";\nexport default {\n  name: \"ImportarLista\",\n  props: [\"buscarUsuarios\"],\n  data() {\n    return {\n      objetos: [],\n    };\n  },\n  methods: {\n    importarUsuarios(e) {\n      this.objetos = [];\n      e.preventDefault();\n\n      var $this = this;\n      // console.log(this.$refs.formVinculo);\n      let formData = new FormData(this.$refs.formVinculo);\n\n      axios\n        .post(env.urlServidorBack + \"/user/importar\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then((response) => {\n          if (response.data.status) {\n            $this.$alertify.success(\"Importado com sucesso\");\n            $this.objetos = response.data.lista;\n            $this.$refs.resetmodal.click();\n          } else {\n            $this.$alertify.error(\"Erro no processo\");\n          }\n        });\n    },\n  },\n};\n</script>"]}]}